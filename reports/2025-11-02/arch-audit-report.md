# Architecture Audit Report

**Generated:** 2025-11-02T12:41:12.348Z
**Project:** vite-react-dapp-template

## Executive Summary

| Metric | Value |
|--------|-------|
| **Total Checks** | 8 |
| **Passed** | ✅ 7 |
| **Failed** | ❌ 1 |
| **Success Rate** | 88% |

## Results by Check

| Check | Status | Summary |
|-------|--------|---------|
| Core → Domain Dependency | ❌ FAILED | 5 violation(s) |
| Service Import Boundaries | ✅ PASSED | 0 violation(s) |
| Service Boundaries | ✅ PASSED | 0 violation(s) |
| Pages Boundaries | ✅ PASSED | 0 violation(s) |
| Model Internals Encapsulation | ✅ PASSED | 0 violation(s) |
| Slice Import Rules | ✅ PASSED | 0 violation(s) |
| Sagas Import Rules | ✅ PASSED | 0 violation(s) |
| Circular Dependencies | ✅ PASSED | No circular dependencies |

## Failed Checks (Detailed)

### ❌ Core → Domain Dependency

**Summary:** 5 violation(s)

<details>
<summary>View Details</summary>

```
Core → Domain Dependency Check
================================================================================

Rule: Core features (infrastructure) MUST NOT depend on domain features
Exception: src/features/app/config/ (composition root) can import anything

Violations
--------------------------------------------------------------------------------

❌ Found 5 violation(s)

  ❌ router (core) → domain features:
     → wallet (domain)
        File: src/features/router/hooks/usePages.tsx
        File: src/features/router/Router.tsx
        File: src/features/router/Router.tsx
     → oauth (domain)
        File: src/features/router/hooks/useRoutes.tsx
        File: src/features/router/Router.tsx

Fix: Move these dependencies to src/features/app/config/

================================================================================
Summary: 5 violation(s)
```

</details>

---

## Passed Checks

- ✅ **Service Import Boundaries** - 0 violation(s)
- ✅ **Service Boundaries** - 0 violation(s)
- ✅ **Pages Boundaries** - 0 violation(s)
- ✅ **Model Internals Encapsulation** - 0 violation(s)
- ✅ **Slice Import Rules** - 0 violation(s)
- ✅ **Sagas Import Rules** - 0 violation(s)
- ✅ **Circular Dependencies** - No circular dependencies

## Architectural Principles Verified

This audit ensures the following architectural patterns:

### ✅ Feature Isolation
- Core features (infrastructure) don't depend on domain features
- Domain features can depend on core features
- Features use proper boundaries and interfaces

### ✅ Dependency Injection
- Services are only imported in composition root (`src/features/app/config/services.ts`)
- Features receive services through dependency injection
- No direct service imports scattered throughout the codebase

### ✅ Model-Based Architecture
- Domain features organize code by models
- Each model has its own directory
- Models expose proper interfaces for cross-model communication

### ✅ Encapsulation
- Model internals (actionEffects, types) are not imported externally
- Slice and saga files follow proper import rules
- Pages and services maintain proper boundaries

### ✅ Circular Dependency Prevention
- Module dependencies form a proper DAG (Directed Acyclic Graph)
- No circular imports that cause bundling or runtime issues

## Recommendations

### Priority Actions

1. **Core → Domain Dependency**: 5 violation(s)
   - Run: `node ./.claude/skills/arch-audit/scripts/core___domain_dependency.mjs`
   - See detailed output above for specific violations

## Next Steps

1. Address failed checks in priority order
2. Run individual check scripts for detailed violation analysis
3. Re-run `arch-audit` after fixes to verify improvements
4. Consider running `code-audit` for code quality checks

---

*Generated by arch-audit skill*
